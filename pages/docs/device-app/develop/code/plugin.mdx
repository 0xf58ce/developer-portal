import { Callout } from 'nextra/components'


# Ethereum plugins


## Why Plugins?

Plugins display specific smart contracts information to the users to avoid blind signing. They work hand-in-hand with the Ethereum App.

The Ethereum App handles parsing, signing, screen display etc. The only thing your plugin needs to do is:

1. Extract the relevant information from the data.
2. Send the string to be displayed back to the Ethereum App.



## Sequence diagram

Here is the detailed sequence diagram of the interaction between the Ethereum application and the plugin:

```mermaid
sequenceDiagram
    Note left of Eth App: Receive transaction
    Eth App -> Plugin: ETH_PLUGIN_CHECK_PRESENCE
    Plugin --> Eth App : 
    Note left of Eth App: Plugin exists<br>so initialize it
    Eth App -> Plugin: ETH_PLUGIN_INITIALIZE
    Note right of Plugin: Initialize context
    Plugin --> Eth App: 
    Note left of Eth App: Split contract data<br>in chunks
    Note left of Eth App: Send chunks<br>to plugin
    Eth App -> Plugin: ETH_PLUGIN_PROVIDE_PARAMETER
    Note right of Plugin: Parse the chunk
    Plugin --> Eth App: 
    Note left of Eth App: Repeat call<br>for every chunk
    Eth App -> Plugin: 
    Plugin --> Eth App: 
    Note left of Eth App: Finish parsing Tx
    Eth App -> Plugin: ETH_PLUGIN_FINALIZE
    Note right of Plugin: Note which ERC20<br>are needed
    Plugin --> Eth App: Ask for info on ERC20
    Note left of Eth App: Get info on ERC20
    Note left of Eth App: Send it back<br>to plugin
    Eth App -> Plugin: ETH_PLUGIN_PROVIDE_TOKEN
    Note right of Plugin: Store ERC20 info
    Plugin --> Eth App: 
    Eth App -> Plugin: ETH_PLUGIN_QUERY_CONTRACT_ID
    Note right of Plugin: Prepare screen
    Plugin --> Eth App: 
    Note left of Eth App: Display<br>contract ID screen
    Eth App -> Plugin: ETH_PLUGIN_QUERY_CONTRACT_UI
    Note right of Plugin: Prepare screen
    Plugin --> Eth App: 
    Note left of Eth App: Repeat call<br>for every screen
    Eth App -> Plugin: 
    Plugin --> Eth App: 
    Note left of Eth App: Sign/Reject<br>the transaction
```

## Integration walkthrough

Follow [this documentation](https://ethereum-plugin-sdk.ledger.com/) to integrate your Ethereum Plugin.
